<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"/>

<link rel="stylesheet" href="/css/main.css?v=6.7.0"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="第一次使用MSP430系列MCU，使用OutOfBox_EmulStorageKeyboard例程时遇到的问题，解决方法在最后。">
<meta property="og:type" content="article">
<meta property="og:title" content="MSP430F5529 LaunchPad例程在CCS下编译失败的问题">
<meta property="og:url" content="http://wangyuyang.me/2020/01/21/MSP430F5529-LaunchPad例程在CCS下编译失败的问题/index.html">
<meta property="og:site_name" content="Y.-Y. Wang&#39;s blog">
<meta property="og:description" content="第一次使用MSP430系列MCU，使用OutOfBox_EmulStorageKeyboard例程时遇到的问题，解决方法在最后。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-01-22T10:09:14.420Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MSP430F5529 LaunchPad例程在CCS下编译失败的问题">
<meta name="twitter:description" content="第一次使用MSP430系列MCU，使用OutOfBox_EmulStorageKeyboard例程时遇到的问题，解决方法在最后。">



  <link rel="alternate" href="/atom.xml" title="Y.-Y. Wang's blog" type="application/atom+xml"/>




  <link rel="canonical" href="http://wangyuyang.me/2020/01/21/MSP430F5529-LaunchPad例程在CCS下编译失败的问题/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>MSP430F5529 LaunchPad例程在CCS下编译失败的问题 | Y.-Y. Wang's blog</title>
  




  <script async src="//www.googletagmanager.com/gtag/js?id=UA-112074623-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-112074623-1');
  </script>









  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Y.-Y. Wang's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br/>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>归档</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wangyuyang.me/2020/01/21/MSP430F5529-LaunchPad例程在CCS下编译失败的问题/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Y.-Y. Wang"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Y.-Y. Wang's blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">MSP430F5529 LaunchPad例程在CCS下编译失败的问题

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-01-21 23:38:51" itemprop="dateCreated datePublished" datetime="2020-01-21T23:38:51+08:00">2020-01-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-01-22 18:09:14" itemprop="dateModified" datetime="2020-01-22T18:09:14+08:00">2020-01-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon"
            >
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote><p>第一次使用MSP430系列MCU，使用<code>OutOfBox_EmulStorageKeyboard</code>例程时遇到的问题，解决方法在最后。</p>
</blockquote>
<a id="more"></a> 
<p>Texas Instruments官网提供的<code>OutOfBox_EmulStorageKeyboard</code>例程导入Code Composer Studio v9后总是编译失败，编译器一直报下面这种莫名其妙的错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">gmake: *** [all] Error 2</span><br><span class="line">gmake[1]: *** [OutOfBox_EmulStorageKeyboard.out] Error 1</span><br><span class="line">gmake[1]: Target &apos;secondary-outputs&apos; not remade because of errors.</span><br><span class="line">mklib: gmake error during rts430x_lc_ld_eabi.lib build</span><br><span class="line">unresolved symbol __mspabi_divu, first referenced in ./USB_API/USB_Common/usb.obj</span><br><span class="line">unresolved symbol __mspabi_mpyi, first referenced in ./USB_API/USB_Common/usb.obj</span><br><span class="line">unresolved symbol __mspabi_slli, first referenced in ./USB_API/USB_Common/usb.obj</span><br><span class="line">unresolved symbol __mspabi_srli, first referenced in ./USB_API/USB_Common/usb.obj</span><br><span class="line">unresolved symbol __TI_decompress_lzss</span><br><span class="line">unresolved symbol __TI_decompress_none</span><br><span class="line">unresolved symbol __TI_int41</span><br><span class="line">unresolved symbol __TI_int43</span><br><span class="line">unresolved symbol __TI_int44</span><br><span class="line">unresolved symbol __TI_int45</span><br><span class="line">unresolved symbol __TI_int46</span><br><span class="line">unresolved symbol __TI_int48</span><br><span class="line">unresolved symbol __TI_int49</span><br><span class="line">unresolved symbol __TI_int50</span><br><span class="line">unresolved symbol __TI_int52</span><br><span class="line">unresolved symbol __TI_int53</span><br><span class="line">unresolved symbol __TI_int54</span><br><span class="line">unresolved symbol __TI_int55</span><br><span class="line">unresolved symbol __TI_int56</span><br><span class="line">unresolved symbol __TI_int57</span><br><span class="line">unresolved symbol __TI_int58</span><br><span class="line">unresolved symbol __TI_int59</span><br><span class="line">unresolved symbol __TI_int60</span><br><span class="line">unresolved symbol __TI_int62</span><br><span class="line">unresolved symbol __TI_zero_init</span><br><span class="line">unresolved symbol memset, first referenced in ./USB_API/USB_HID_API/UsbHid.obj</span><br></pre></td></tr></table></figure>
<p>一开始先是针对每一个错误去Google对应的解决方法，看到很多人和我有一样的情况，一些TI员工说什么一定是导入时设置不对，吧啦吧啦讲了一堆。然而我照着做了一遍并没有什么卵用。。。。。</p>
<p>想想一百多块钱买来的玩具不能连第一个程序都烧不进去，太丢人了，于是就去看了一下Console，一长串的编译过程里看到这么三行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">warning #10366-D: automatic library build: using library &quot;D:\Program Files\ti\ccs930\ccs\tools\compiler\ti-cgt-msp430_18.12.4.LTS\lib\rts430x_lc_ld_eabi.lib&quot; for the first time, so it must be built.  This may take a few minutes.</span><br><span class="line"></span><br><span class="line">&apos;d:/program&apos; 不是内部或外部命令，也不是可运行的程序或批处理文件。</span><br><span class="line"></span><br><span class="line">&gt;&gt; ERROR: mklib: gmake error during rts430x_lc_ld_eabi.lib build</span><br></pre></td></tr></table></figure>
<p>注意到这个第二行“不是内部或外部命令……”我就去<code>D:\Program Files\ti\ccs930\ccs\tools\compiler\ti-cgt-msp430_18.12.4.LTS\lib\</code>文件夹看了一下，结果发现根本就没有名为<code>rts430x_lc_ld_eabi.lib</code>的文件，于是又去Google了一下，<a href="http://www.ti.com/cn/lit/ug/slau132u/slau132u.pdf" target="_blank" rel="noopener">MSP430 Optimizing C/C++ Compiler v19.6.0.STS User’s Guide</a>里有这么一段话：</p>
<blockquote><p>7.4 Library-Build Process</p>
<p>When using the C/C++ compiler, you can compile your code under a large number of different configurations and options that are not necessarily compatible with one another. Because it would be infeasible to include all possible run-time-support library variants, compiler releases pre-build only a small number of very commonly-used libraries such as rts430_eabi.lib.</p>
<p>To provide maximum flexibility, the run-time-support source code is provided as part of each compiler release. You can build the missing libraries as desired. The linker can also automatically build missing libraries. This is accomplished with a new library build process, the core of which is the executable mklib, which is available beginning with CCS 5.1.</p>
</blockquote>
<p><del>所以说老子编译例程还tm要先调用gmake把standard runtime support library编译一遍？有病？？？</del></p>
<p>耐着性子看完文档，于是在上面那个文件夹调用cmd试了一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mklib --pattern=rts430x_lc_ld_eabi.lib</span><br></pre></td></tr></table></figure>
<p>然而并没有成功生成lib文件。粗略看了看<a href="https://processors.wiki.ti.com/index.php/Mklib#MKS_or_Cygwin_or_gmake_tools_in_your_path" target="_blank" rel="noopener">Mklib-Wiki</a>，似乎是因为Windows Defender的锅。就在实在没耐心折腾下去的时候，突然在TI的官方论坛的<a href="https://e2e.ti.com/support/tools/ccs/f/81/t/670991" target="_blank" rel="noopener">这篇帖子</a>里看到有人把已经编译好的库打包发了出来。下载<code>rts430x_lc_ld_eabi.rar</code>附件，把压缩包内的<code>rts430x_lc_ld_eabi.lib</code>放到<code>~\ti\ccs930\ccs\tools\compiler\ti-cgt-msp430_18.12.4.LTS\lib\</code>文件夹里，再点击Build，编译成功~</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/12/06/山外库中UART部分的使用/" rel="next" title="山外库中UART部分的使用">
                <i class="fa fa-chevron-left"></i> 山外库中UART部分的使用
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/01/22/MSP430F5529/" rel="prev" title="MSP430F5529">
                MSP430F5529 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Y.-Y. Wang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">23</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Y.-Y. Wang</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.7.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v6.7.0</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color='30,30,30' opacity='0.4' zIndex='-1' count='45' src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=6.7.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  


  


  





  

  

  

  

  

  

  

  

  

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":125,"height":250},"mobile":{"show":true}});</script></body>
</html>
